<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<script>
	/**********1.array.prototype.map()**********************************/
	//a.map() 方法返回一个由原数组中的每个元素调用一个指定方法后的返回值组成的新数组。
	//b.参数 callback, map方法在调用callback函数时,会给它传递三个参数:当前正在遍历的元素, 元素索引, 原数组本身.
	var arr=[1.1,2.2,3.3];
	function returnInt(element){
		  return parseInt(element,10);
		}

	arr1=arr.map(returnInt);
	// console.log(arr1);
	//在字符串上使用 map 方法
	var map = Array.prototype.map;
	var a = map.call("Hello World", function(x) { return x.charCodeAt(0); })
	// a的值为[72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100]




	/***********2.array.prototype.indexOf()  lastIndexOf() *********************************/
	//a.indexOf()方法返回给定元素能找在数组中找到的第一个索引值，否则返回-1。
	//b.lastIndexOf() 在数组中的最后一个的索引，如果不存在则返回 -1。从数组的后面向前查找，从 fromIndex 处开始。
/*	function indexOf1(arr,element){
	for(var i= 0, l = arr.length; i< l; i++){
		if(arr[i] === element){
			return i;
			}
		}
	}
	var arr = ['apple','orange','pear'];
	indexOf1(arr,'orange');*/

	function updateArr (Arr2, element) {
	    if (Arr2.indexOf(element) === -1) {
	        Arr2.push(element);
	        console.log('新数组 : ' + Arr2);
	    } else if (Arr2.indexOf(element) > -1) {
	        console.log(element + ' 值已经存在');
	    }
	}
	var Arr2 = ['potato', 'tomato', 'chillies', 'green-pepper'];
	// updateArr(Arr2, 'spinach'); 
	// updateArr(Arr2, 'spinach');



	/**************3.filter******************************/
	//a.使用指定的函数测试所有元素，并创建一个包含所有通过测试的元素的新数组。
	//b.callback 被调用时传入三个参数：元素的值,元素的索引,被遍历的数组
	var arr = [
	  {"name":"apple", "count": 2},
	  {"name":"orange", "count": 5},
	  {"name":"pear", "count": 3},
	  {"name":"orange", "count": 16},
	];
	  
	var newArr = arr.filter(function(item){
	  	if (item.name === "orange") {
	  		item.product1='ganzhou';
	  		return item;
	  	}
	});
	// console.log("Filter results:",newArr);

	/**********1.array.prototype.map()**********************************/
	//a.map() 方法返回一个由原数组中的每个元素调用一个指定方法后的返回值组成的新数组。
	//b.参数 callback, map方法在调用callback函数时,会给它传递三个参数:当前正在遍历的元素, 元素索引, 原数组本身.
	var arr=[1.1,2.2,3.3];
	function returnInt(element){
		  return parseInt(element,10);
		}

	arr1=arr.map(returnInt);
	// console.log(arr1);
	//在字符串上使用 map 方法
	var map = Array.prototype.map;
	var a = map.call("Hello World", 
		function(x) { 
			return x.charCodeAt(0); })
	console.log(a);
	// a的值为[72, 101, 108, 108, 111, 32, 87, 111, 114, 108, 100]

	/**********4.foreach**********************************/


	//a.按升序为数组中含有效值的每一项执行一次callback 函数，那些已删除（使用delete方法等情况）或者从未赋值的项将被跳过（但不包括哪些值为 undefined 的项）。
	//b.依次传入三个参数：数组当前项的值,数组当前项的索引,数组对象本身
	function logArrayElements(element, index) {
   		 // console.log("a[" + index + "] = " + element);
	}
	[2, 5, 9].forEach(logArrayElements);



	/***********5.reduce*********************************/
	//a.法接收一个函数作为累加器（accumulator），数组中的每个值（从左到右）开始合并，最终为一个值
	//b.接受四个参数：初始值（或者上一次回调函数的返回值），当前元素值，当前索引，调用 reduce 的数组
	var num=[0,1,2,3,4].reduce(function(previousValue, currentValue, index, array){
		//10+0    
  		return previousValue + currentValue;
	}, 10);
	// console.log(num);

	/***********6.every*********************************/
	//a.测试数组的所有元素是否都通过了指定函数的测试
	//b
	function isBigEnough(element, index, array) {
	  return (element >= 10);
	}
	var passed = [12, 5, 8, 130, 44].every(isBigEnough);
	// passed is false
	passed = [12, 54, 18, 130, 44].every(isBigEnough);
	// passed is true
	</script>
</head>
<body>
	
</body>
</html>